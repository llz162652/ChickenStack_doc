# 什么是 ChickenStack？

::: tip
ChickenStack 是一种基于栈的图灵完备编程语言，受 Brainfuck 启发但更人类友好。它使用逆波兰表达式（后缀表达式），所有操作都在栈上进行。
:::

## 语言概述

ChickenStack 是一个极简主义的编程语言，旨在探索栈式编程语言的极限。它的设计哲学是"简单但强大"，通过最少的指令集实现完整的计算能力。

### 设计目标

- **极简主义**: 用最少的语法实现最大的功能
- **可读性**: 在保持简洁的同时，代码应该易于理解
- **教育性**: 帮助学习者理解计算机科学的基本概念
- **实用性**: 虽然简单，但应该能够解决实际问题
- **可扩展性**: 语言设计应该允许未来扩展

### 语言特性

- **栈式计算**: 所有操作都在栈上进行，没有寄存器或变量
- **后缀表达式**: 使用逆波兰表达式，无需括号
- **整数运算**: 支持任意大小的整数运算
- **循环控制**: 使用 Brainfuck 风格的循环结构
- **字符处理**: 支持 ASCII 字符的输入输出

## 设计哲学

### 为什么选择栈式模型？

栈式模型是最简单的计算模型之一，它具有以下优势：

1. **清晰的执行流程**: 每个操作的效果都是确定的
2. **易于实现**: 解释器非常简单，易于理解和修改
3. **教育价值**: 帮助理解计算机如何处理数据
4. **历史意义**: 许多早期计算机都使用栈式模型

### 为什么使用逆波兰表达式？

逆波兰表达式（后缀表达式）是一种不需要括号的表示法，具有以下优势：

1. **无需优先级**: 运算符的顺序决定了计算顺序
2. **易于解析**: 解析器非常简单
3. **历史背景**: HP 计算器使用这种表示法
4. **学习价值**: 帮助理解表达式求值的本质

### 为什么参考 Brainfuck？

Brainfuck 是最著名的极简编程语言，但它有两个主要问题：

1. **可读性差**: 代码难以阅读和理解
2. **指针复杂**: 需要手动管理内存指针

ChickenStack 保留了 Brainfuck 的极简主义精神，但通过以下改进解决了这些问题：

1. **使用数字**: 不需要数 + 号，直接写数字
2. **栈式模型**: 不需要指针，所有操作都在栈上
3. **直观符号**: 使用人类可读的符号

## 语言设计

### 指令集设计

ChickenStack 的指令集经过精心设计，每个指令都有明确的用途：

- **数学运算**: `+`, `-`, `*`, `/`, `%` - 覆盖基本运算
- **栈操作**: `:`, `\`, `$` - 提供必要的栈操作
- **逻辑运算**: `=`, `>` - 支持条件判断
- **输入输出**: `.`, `"`, `,`, `?` - 与外部世界交互
- **循环控制**: `[`, `]` - 实现迭代结构

### 内存模型

ChickenStack 使用单一的栈作为内存：

- **栈**: 存储所有数据和临时结果
- **无变量**: 所有数据都通过栈传递
- **无堆**: 不支持动态内存分配
- **无指针**: 不需要显式管理内存

### 执行模型

ChickenStack 采用线性执行模型：

1. **词法分析**: 将源代码转换为 Token
2. **语法分析**: 验证语法正确性，构建循环跳转表
3. **执行**: 逐条执行指令，维护栈状态
4. **输出**: 产生结果或副作用

## 技术实现

### 解释器架构

ChickenStack 解释器由三个核心组件组成：

1. **Parser (解析器)**: 负责词法分析和语法分析
2. **VM (虚拟机)**: 执行指令，维护栈状态
3. **IOHandler (IO 处理器)**: 处理输入输出

### 性能特点

- **轻量级**: 解释器非常小，启动速度快
- **高效**: 使用优化的数据结构，执行效率高
- **安全**: 包含错误检测和边界检查
- **跨平台**: 纯 Python 实现，支持所有平台

### 可扩展性

ChickenStack 设计了良好的扩展点：

- **自定义指令**: 可以添加新的指令
- **自定义 IO**: 可以替换 IO Handler
- **自定义 VM**: 可以扩展虚拟机功能

## 与其他语言对比

### 与 Brainfuck 对比

计算 5 + 3:

| 语言 | 代码 | 可读性 |
|------|------|--------|
| **Brainfuck** | `+++++>+++[<+>-]<.` | 😵 难以理解 |
| **ChickenStack** | `5 3 + .` | 😊 直观清晰 |

打印 "HELLO":

| 语言 | 代码 | 可读性 |
|------|------|--------|
| **Brainfuck** | `+++++++++[>+++++++>++++++++++>+++>+<<<<-]>++.>+.+++++++..+++.>++.<<+++++++++++++++.>.+++.------.--------.>+.>.` | 😵 极难理解 |
| **ChickenStack** | `72 " 69 " 76 " 76 " 79 "` | 😊 清晰明了 |

### 与 Forth 对比

Forth 也是一种栈式语言，但 ChickenStack 更简单：

| 特性 | Forth | ChickenStack |
|------|-------|--------------|
| 变量 | 支持 | 不支持 |
| 函数定义 | 支持 | 不支持 |
| 词库 | 丰富 | 最小 |
| 复杂度 | 高 | 低 |

### 与其他极简语言对比

| 语言 | 模型 | 指令数 | 可读性 |
|------|------|--------|--------|
| Brainfuck | 指针 | 8 | 差 |
| ChickenStack | 栈 | 16 | 好 |
| Malbolge | 自修改 | 8 | 极差 |
| Ook! | 指针 | 3 | 中等 |

## 代码示例

### Hello World

```ch
# 打印 "HELLO"
72 " 69 " 76 " 76 " 79 " 10 "
```

**输出**: `HELLO`

### 数学运算

```ch
# 计算 (10 + 20) * 2 = 60
10 20 + 2 * .
```

**输出**: `60`

### 循环

```ch
# 从 5 倒数到 1
5 [ : . 1 - ]
```

**输出**: `5 4 3 2 1`

### 斐波那契数列

```ch
# 打印斐波那契数列前 10 项
0 1 5 [ : . + ] .
```

**输出**: `0 1 1 2 3 5 8 13 21 34 55`

### 阶乘

```ch
# 计算 5! = 120
5 1 5 [ : * 1 - ] .
```

**输出**: `120`

### 条件判断

```ch
# 判断 10 > 5
10 5 > .
```

**输出**: `1`

## 局限性

ChickenStack 的设计也带来了一些局限性：

1. **无变量**: 所有数据必须通过栈传递
2. **无函数**: 不能定义可复用的函数
3. **无数组**: 不能存储多个值
4. **无字符串**: 只能处理单个字符
5. **无浮点数**: 只支持整数运算

这些局限性是有意为之的，它们体现了极简主义的设计哲学。

## 项目信息

- **版本**: v1.0.0
- **开发**: 由 AI GLM-4.7 开发
- **许可证**: MIT License
- **语言**: Python 3.7+
- **GitHub**: [https://github.com/llz162652/ChickenStack](https://github.com/llz162652/ChickenStack)

## 未来计划

- [ ] 支持变量和函数
- [ ] 添加浮点数支持
- [ ] 实现字符串类型
- [ ] 开发 IDE 插件
- [ ] 提供在线编译器
- [ ] 优化性能

## 获取帮助

- 📖 查看 [文档](/)
- 💬 提交 [Issue](https://github.com/llz162652/ChickenStack/issues)
- 🌟 给我们一个 [Star](https://github.com/llz162652/ChickenStack)