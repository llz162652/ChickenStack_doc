è‡ªå®šä¹‰ä¸»é¢˜
è§£æä¸»é¢˜
å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ª .vitepress/theme/index.js æˆ– .vitepress/theme/index.ts æ–‡ä»¶ (å³"ä¸»é¢˜å…¥å£æ–‡ä»¶") æ¥å¯ç”¨è‡ªå®šä¹‰ä¸»é¢˜ï¼š


.â”œâ”€ docs                # é¡¹ç›®æ ¹ç›®å½•
â”‚  â”œâ”€ .vitepress
â”‚  â”‚  â”œâ”€ theme
â”‚  â”‚  â”‚  â””â”€ index.js   # ä¸»é¢˜å…¥å£
â”‚  â”‚  â””â”€ config.js     # é…ç½®æ–‡ä»¶
â”‚  â””â”€ index.md
â””â”€ package.json
å½“æ£€æµ‹åˆ°å­˜åœ¨ä¸»é¢˜å…¥å£æ–‡ä»¶æ—¶ï¼ŒVitePress æ€»ä¼šä½¿ç”¨è‡ªå®šä¹‰ä¸»é¢˜è€Œä¸æ˜¯é»˜è®¤ä¸»é¢˜ã€‚ä½†ä½ å¯ä»¥æ‰©å±•é»˜è®¤ä¸»é¢˜æ¥åœ¨å…¶åŸºç¡€ä¸Šå®ç°æ›´é«˜çº§çš„è‡ªå®šä¹‰ã€‚

ä¸»é¢˜æ¥å£
VitePress è‡ªå®šä¹‰ä¸»é¢˜æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡å…·æœ‰å¦‚ä¸‹æ¥å£ï¼š


interface Theme {
  /**
   * æ¯ä¸ªé¡µé¢çš„æ ¹å¸ƒå±€ç»„ä»¶
   * @required
   */
  Layout: Component
  /**
   * å¢å¼º Vue åº”ç”¨å®ä¾‹
   * @optional
   */
  enhanceApp?: (ctx: EnhanceAppContext) => Awaitable<void>
  /**
   * æ‰©å±•å¦ä¸€ä¸ªä¸»é¢˜ï¼Œåœ¨æˆ‘ä»¬çš„ä¸»é¢˜ä¹‹å‰è°ƒç”¨å®ƒçš„ `enhanceApp`
   * @optional
   */
  extends?: Theme
}

interface EnhanceAppContext {
  app: App // Vue åº”ç”¨å®ä¾‹
  router: Router // VitePress è·¯ç”±å®ä¾‹
  siteData: Ref<SiteData> // ç«™ç‚¹çº§å…ƒæ•°æ®
}
ä¸»é¢˜å…¥å£æ–‡ä»¶éœ€è¦å°†ä¸»é¢˜ä½œä¸ºé»˜è®¤å¯¼å‡ºæ¥å¯¼å‡ºï¼š

.vitepress/theme/index.js


// å¯ä»¥ç›´æ¥åœ¨ä¸»é¢˜å…¥å£å¯¼å…¥ Vue æ–‡ä»¶
// VitePress å·²é¢„å…ˆé…ç½® @vitejs/plugin-vue
import Layout from './Layout.vue'

export default {
  Layout,
  enhanceApp({ app, router, siteData }) {
    // ...
  }
}
é»˜è®¤å¯¼å‡ºæ˜¯è‡ªå®šä¹‰ä¸»é¢˜çš„å”¯ä¸€æ–¹å¼ï¼Œå¹¶ä¸”åªæœ‰ Layout å±æ€§æ˜¯å¿…é¡»çš„ã€‚æ‰€ä»¥ä»æŠ€æœ¯ä¸Šè®²ï¼Œä¸€ä¸ª VitePress ä¸»é¢˜å¯ä»¥æ˜¯ä¸€ä¸ªå•ç‹¬çš„ Vue ç»„ä»¶ã€‚

åœ¨ç»„ä»¶å†…éƒ¨ï¼Œå®ƒçš„å·¥ä½œæ–¹å¼å°±åƒæ˜¯ä¸€ä¸ªæ™®é€šçš„ Vite + Vue 3 åº”ç”¨ã€‚è¯·æ³¨æ„ï¼Œä¸»é¢˜è¿˜éœ€è¦ä¿è¯ SSR å…¼å®¹ã€‚

æ„å»ºå¸ƒå±€
æœ€åŸºæœ¬çš„å¸ƒå±€ç»„ä»¶éœ€è¦åŒ…å«ä¸€ä¸ª <Content /> ç»„ä»¶ï¼š

.vitepress/theme/Layout.vue


<template>
  <h1>Custom Layout!</h1>

  <!-- æ­¤å¤„å°†æ¸²æŸ“ markdown å†…å®¹ -->
  <Content />
</template>
ä¸Šé¢çš„å¸ƒå±€åªæ˜¯å°†æ¯ä¸ªé¡µé¢çš„ markdown æ¸²æŸ“ä¸º HTMLã€‚æˆ‘ä»¬æ·»åŠ çš„ç¬¬ä¸€ä¸ªæ”¹è¿›æ˜¯å¤„ç† 404 é”™è¯¯ï¼š


<script setup>
import { useData } from 'vitepress'
const { page } = useData()
</script>

<template>
  <h1>Custom Layout!</h1>

  <div v-if="page.isNotFound">
    Custom 404 page!
  </div>
  <Content v-else />
</template>
useData() ä¸ºæˆ‘ä»¬æä¾›äº†æ‰€æœ‰çš„è¿è¡Œæ—¶æ•°æ®ï¼Œä»¥ä¾¿æˆ‘ä»¬æ ¹æ®ä¸åŒæ¡ä»¶æ¸²æŸ“ä¸åŒçš„å¸ƒå±€ã€‚æˆ‘ä»¬å¯ä»¥è®¿é—®çš„å¦ä¸€ä¸ªæ•°æ®æ˜¯å½“å‰é¡µé¢çš„ frontmatterã€‚é€šè¿‡åˆ©ç”¨è¿™ä¸ªæ•°æ®ï¼Œå¯ä»¥è®©ç”¨æˆ·å•ç‹¬æ§åˆ¶æ¯ä¸ªé¡µé¢çš„å¸ƒå±€ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·å¯ä»¥æŒ‡å®šä¸€ä¸ªé¡µé¢æ˜¯å¦ä½¿ç”¨ç‰¹æ®Šçš„ä¸»é¡µå¸ƒå±€ï¼š


---
layout: home
---
å¹¶ä¸”æˆ‘ä»¬å¯ä»¥è°ƒæ•´ä¸»é¢˜è¿›è¡Œå¤„ç†ï¼š


<script setup>
import { useData } from 'vitepress'
const { page, frontmatter } = useData()
</script>

<template>
  <h1>Custom Layout!</h1>

  <div v-if="page.isNotFound">
    Custom 404 page!
  </div>
  <div v-if="frontmatter.layout === 'home'">
    Custom home page!
  </div>
  <Content v-else />
</template>
å½“ç„¶ä½ å¯ä»¥å°†å¸ƒå±€åˆ‡åˆ†ä¸ºä¸åŒçš„ç»„ä»¶ï¼š


<script setup>
import { useData } from 'vitepress'
import NotFound from './NotFound.vue'
import Home from './Home.vue'
import Page from './Page.vue'

const { page, frontmatter } = useData()
</script>

<template>
  <h1>Custom Layout!</h1>

  <NotFound v-if="page.isNotFound" />
  <Home v-if="frontmatter.layout === 'home'" />
  <Page v-else /> <!-- <Page /> renders <Content /> -->
</template>
è¯·æŸ¥çœ‹è¿è¡Œæ—¶ API å‚è€ƒè·å–ä¸»é¢˜ç»„ä»¶ä¸­æ‰€æœ‰å¯ç”¨å†…å®¹ã€‚æ­¤å¤–ï¼Œå¯ä»¥åˆ©ç”¨æ„å»ºæ—¶æ•°æ®åŠ è½½æ¥ç”Ÿæˆæ•°æ®é©±åŠ¨å¸ƒå±€â€”â€”ä¾‹å¦‚ï¼Œä¸€ä¸ªåˆ—å‡ºå½“å‰é¡¹ç›®ä¸­æ‰€æœ‰åšå®¢æ–‡ç« çš„é¡µé¢ã€‚

åˆ†å‘è‡ªå®šä¹‰ä¸»é¢˜
åˆ†å‘è‡ªå®šä¹‰ä¸»é¢˜æœ€ç®€å•çš„æ–¹å¼æ˜¯é€šè¿‡å°†å…¶ä½œä¸º GitHub æ¨¡ç‰ˆä»“åº“ã€‚

å¦‚æœä½ å¸Œæœ›å°†ä¸»é¢˜ä½œä¸º npm åŒ…æ¥åˆ†å‘ï¼Œè¯·æŒ‰ç…§ä¸‹é¢çš„æ­¥éª¤æ“ä½œï¼š

åœ¨åŒ…å…¥å£å°†ä¸»é¢˜å¯¹è±¡ä½¿ç”¨é»˜è®¤å¯¼å‡ºã€‚

å¦‚æœåˆé€‚çš„è¯ï¼Œå°†ä¸»é¢˜é…ç½®ç±»å‹å®šä¹‰ä½œä¸º ThemeConfig å¯¼å‡ºã€‚

å¦‚æœä¸»é¢˜éœ€è¦è°ƒæ•´ VitePress é…ç½®ï¼Œè¯·åœ¨åŒ…çš„å­è·¯å¾„ä¸‹ (ä¾‹å¦‚ my-theme/config) ä¸‹å¯¼å‡ºè¯¥é…ç½®ï¼Œä»¥ä¾¿ç”¨æˆ·æ‰©å±•ã€‚

è®°å½•ä¸»é¢˜é…ç½®é€‰é¡¹ (é€šè¿‡é…ç½®æ–‡ä»¶å’Œ frontmatter)ã€‚

æä¾›æ¸…æ™°çš„è¯´æ˜ï¼Œå‘Šè¯‰ç”¨æˆ·å¦‚ä½•ä½¿ç”¨ä¸»é¢˜ (è§ä¸‹æ–‡)ã€‚

ä½¿ç”¨è‡ªå®šä¹‰ä¸»é¢˜
è¦ä½¿ç”¨å¤–éƒ¨ä¸»é¢˜ï¼Œè¯·å¯¼å…¥å®ƒå¹¶é‡æ–°å¯¼å‡ºï¼š

.vitepress/theme/index.js


import Theme from 'awesome-vitepress-theme'

export default Theme
å¦‚æœä¸»é¢˜éœ€è¦æ‰©å±•ï¼š

.vitepress/theme/index.js


import Theme from 'awesome-vitepress-theme'

export default {
  extends: Theme,
  enhanceApp(ctx) {
    // ...
  }
}
å¦‚æœä¸»é¢˜éœ€è¦ç‰¹æ®Šçš„ VitePress é…ç½®ï¼Œä¹Ÿéœ€è¦åœ¨é…ç½®ä¸­æ‰©å±•ï¼š

.vitepress/config.ts


import baseConfig from 'awesome-vitepress-theme/config'

export default {
  // æ‰©å±•ä¸»é¢˜çš„åŸºæœ¬é…ç½®ï¼ˆå¦‚éœ€è¦ï¼‰
  extends: baseConfig
}
æœ€åï¼Œå¦‚æœä¸»é¢˜ä¸ºå…¶ä¸»é¢˜é…ç½®æä¾›äº†ç±»å‹ï¼š

.vitepress/config.ts


import baseConfig from 'awesome-vitepress-theme/config'
import { defineConfigWithTheme } from 'vitepress'
import type { ThemeConfig } from 'awesome-vitepress-theme'

export default defineConfigWithTheme<ThemeConfig>({
  extends: baseConfig,
  themeConfig: {
    // ç±»å‹ä¸º `ThemeConfig`
  }
})
æ‰©å±•é»˜è®¤ä¸»é¢˜
VitePress é»˜è®¤çš„ä¸»é¢˜å·²ç»é’ˆå¯¹æ–‡æ¡£è¿›è¡Œäº†ä¼˜åŒ–ï¼Œå¹¶ä¸”å¯ä»¥è¿›è¡Œè‡ªå®šä¹‰ã€‚è¯·å‚è€ƒé»˜è®¤ä¸»é¢˜é…ç½®æ¦‚è§ˆè·å–å®Œæ•´çš„é€‰é¡¹åˆ—è¡¨ã€‚

ä½†æ˜¯æœ‰ä¸€äº›æƒ…å†µä»…é é…ç½®æ˜¯ä¸å¤Ÿçš„ã€‚ä¾‹å¦‚ï¼š

éœ€è¦è°ƒæ•´ CSS æ ·å¼ï¼›

éœ€è¦ä¿®æ”¹ Vue åº”ç”¨å®ä¾‹ï¼Œä¾‹å¦‚æ³¨å†Œå…¨å±€ç»„ä»¶ï¼›

éœ€è¦é€šè¿‡ layout æ’æ§½å°†è‡ªå®šä¹‰å†…å®¹æ³¨å…¥åˆ°ä¸»é¢˜ä¸­ï¼›

è¿™äº›é«˜çº§è‡ªå®šä¹‰é…ç½®å°†éœ€è¦ä½¿ç”¨è‡ªå®šä¹‰ä¸»é¢˜æ¥"æ‹“å±•"é»˜è®¤ä¸»é¢˜ã€‚

TIP

åœ¨ç»§ç»­ä¹‹å‰ï¼Œè¯·ç¡®ä¿é¦–å…ˆé˜…è¯»è‡ªå®šä¹‰ä¸»é¢˜ä»¥äº†è§£å…¶å·¥ä½œåŸç†ã€‚

è‡ªå®šä¹‰ CSS
å¯ä»¥é€šè¿‡è¦†ç›–æ ¹çº§åˆ«çš„ CSS å˜é‡æ¥è‡ªå®šä¹‰é»˜è®¤ä¸»é¢˜çš„ CSSï¼š

.vitepress/theme/index.js


import DefaultTheme from 'vitepress/theme'
import './custom.css'

export default DefaultTheme

/* .vitepress/theme/custom.css */
:root {
  --vp-c-brand-1: #646cff;
  --vp-c-brand-2: #747bff;
}
æŸ¥çœ‹é»˜è®¤ä¸»é¢˜ CSS å˜é‡æ¥è·å–å¯ä»¥è¢«è¦†ç›–çš„å˜é‡ã€‚

ä½¿ç”¨è‡ªå®šä¹‰å­—ä½“
VitePress ä½¿ç”¨ Inter ä½œä¸ºé»˜è®¤å­—ä½“ï¼Œå¹¶ä¸”å°†å…¶åŒ…å«åœ¨ç”Ÿæˆçš„è¾“å‡ºä¸­ã€‚è¯¥å­—ä½“åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¹Ÿä¼šè‡ªåŠ¨é¢„åŠ è½½ã€‚ä½†æ˜¯å¦‚æœè¦ä½¿ç”¨ä¸åŒçš„å­—ä½“ï¼Œè¿™å¯èƒ½ä¸æ˜¯å¾ˆå¥½ã€‚

ä¸ºäº†é¿å…åœ¨ç”Ÿæˆåçš„è¾“å‡ºä¸­åŒ…å« Inter å­—ä½“ï¼Œè¯·ä» vitepress/theme-without-fonts ä¸­å¯¼å…¥ä¸»é¢˜ï¼š

.vitepress/theme/index.js


import DefaultTheme from 'vitepress/theme-without-fonts'
import './my-fonts.css'

export default DefaultTheme

/* .vitepress/theme/my-fonts.css */
:root {
  --vp-font-family-base: /* æ™®é€šæ–‡æœ¬å­—ä½“ */
  --vp-font-family-mono: /* ä»£ç å­—ä½“ */
}
WARNING

å¦‚æœä½ åœ¨ä½¿ç”¨åƒæ˜¯å›¢é˜Ÿé¡µè¿™æ ·çš„ç»„ä»¶ï¼Œè¯·ç¡®ä¿ä¹Ÿä» vitepress/theme-without-fonts ä¸­å¯¼å…¥å®ƒä»¬ï¼

å¦‚æœå­—ä½“æ˜¯é€šè¿‡ @font-face å¼•ç”¨çš„æœ¬åœ°æ–‡ä»¶ï¼Œå®ƒå°†ä¼šè¢«ä½œä¸ºèµ„æºè¢«åŒ…å«åœ¨ .vitepress/dist/asset ç›®å½•ä¸‹ï¼Œå¹¶ä¸”ä½¿ç”¨å“ˆå¸Œåçš„æ–‡ä»¶åã€‚ä¸ºäº†é¢„åŠ è½½è¿™ä¸ªæ–‡ä»¶ï¼Œè¯·ä½¿ç”¨ transformHead æ„å»ºé’©å­ï¼š

.vitepress/config.js


export default {
  transformHead({ assets }) {
    // ç›¸åº”åœ°è°ƒæ•´æ­£åˆ™è¡¨è¾¾å¼ä»¥åŒ¹é…å­—ä½“
    const myFontFile = assets.find(file => /font-name\.[\w-]+\.woff2/.test(file))
    if (myFontFile) {
      return [
        [
          'link',
          {
            rel: 'preload',
            href: myFontFile,
            as: 'font',
            type: 'font/woff2',
            crossorigin: ''
          }
        ]
      ]
    }
  }
}
æ³¨å†Œå…¨å±€ç»„ä»¶
.vitepress/theme/index.js


import DefaultTheme from 'vitepress/theme'

/** @type {import('vitepress').Theme} */
export default {
  extends: DefaultTheme,
  enhanceApp({ app }) {
    // æ³¨å†Œè‡ªå®šä¹‰å…¨å±€ç»„ä»¶
    app.component('MyGlobalComponent' /* ... */)
  }
}
å¦‚æœä½¿ç”¨ TypeScript:

.vitepress/theme/index.ts


import type { Theme } from 'vitepress'
import DefaultTheme from 'vitepress/theme'

export default {
  extends: DefaultTheme,
  enhanceApp({ app }) {
    // æ³¨å†Œè‡ªå®šä¹‰å…¨å±€ç»„ä»¶
    app.component('MyGlobalComponent' /* ... */)
  }
} satisfies Theme
å› ä¸ºæˆ‘ä»¬ä½¿ç”¨ Viteï¼Œè¿˜å¯ä»¥åˆ©ç”¨ Vite çš„ glob å¯¼å…¥åŠŸèƒ½æ¥è‡ªåŠ¨æ³¨å†Œä¸€ä¸ªç»„ä»¶ç›®å½•ã€‚

å¸ƒå±€æ’æ§½
é»˜è®¤ä¸»é¢˜çš„ <Layout/> ç»„ä»¶æœ‰ä¸€äº›æ’æ§½ï¼Œèƒ½å¤Ÿè¢«ç”¨æ¥åœ¨é¡µé¢çš„ç‰¹å®šä½ç½®æ³¨å…¥å†…å®¹ã€‚ä¸‹é¢è¿™ä¸ªä¾‹å­å±•ç¤ºäº†å°†ä¸€ä¸ªç»„ä»¶æ³¨å…¥åˆ° outline ä¹‹å‰ï¼š

.vitepress/theme/index.js


import DefaultTheme from 'vitepress/theme'
import MyLayout from './MyLayout.vue'

export default {
  extends: DefaultTheme,
  // ä½¿ç”¨æ³¨å…¥æ’æ§½çš„åŒ…è£…ç»„ä»¶è¦†ç›– Layout
  Layout: MyLayout
}
.vitepress/theme/MyLayout.vue


<script setup>
import DefaultTheme from 'vitepress/theme'

const { Layout } = DefaultTheme
</script>

<template>
  <Layout>
    <template #aside-outline-before>
      My custom sidebar top content
    </template>
  </Layout>
</template>
ä¹Ÿå¯ä»¥ä½¿ç”¨æ¸²æŸ“å‡½æ•°ã€‚

.vitepress/theme/index.js


import { h } from 'vue'
import DefaultTheme from 'vitepress/theme'
import MyComponent from './MyComponent.vue'

export default {
  extends: DefaultTheme,
  Layout() {
    return h(DefaultTheme.Layout, null, {
      'aside-outline-before': () => h(MyComponent)
    })
  }
}
é»˜è®¤ä¸»é¢˜å¸ƒå±€çš„å…¨éƒ¨å¯ç”¨æ’æ§½å¦‚ä¸‹ï¼š

å½“ layout: 'doc' (é»˜è®¤) åœ¨ frontmatter ä¸­è¢«å¯ç”¨æ—¶ï¼š
doc-top
doc-bottom
doc-footer-before
doc-before
doc-after
sidebar-nav-before
sidebar-nav-after
aside-top
aside-bottom
aside-outline-before
aside-outline-after
aside-ads-before
aside-ads-after

å½“ layout: 'home' åœ¨ frontmatter ä¸­è¢«å¯ç”¨æ—¶:
home-hero-before
home-hero-info-before
home-hero-info
home-hero-info-after
home-hero-actions-after
home-hero-image
home-hero-after
home-features-before
home-features-after

å½“ layout: 'page' åœ¨ frontmatter ä¸­è¢«å¯ç”¨æ—¶:
page-top
page-bottom

å½“æœªæ‰¾åˆ°é¡µé¢ (404) æ—¶:
not-found

æ€»æ˜¯å¯ç”¨:
layout-top
layout-bottom
nav-bar-title-before
nav-bar-title-after
nav-bar-content-before
nav-bar-content-after
nav-screen-content-before
nav-screen-content-after

ä½¿ç”¨è§†å›¾è¿‡æ¸¡ API
å…³äºå¤–è§‚åˆ‡æ¢
å¯ä»¥æ‰©å±•é»˜è®¤ä¸»é¢˜ä»¥åœ¨åˆ‡æ¢é¢œè‰²æ¨¡å¼æ—¶æä¾›è‡ªå®šä¹‰è¿‡æ¸¡åŠ¨ç”»ã€‚ä¾‹å¦‚ï¼š

.vitepress/theme/Layout.vue


<script setup lang="ts">
import { useData } from 'vitepress'
import DefaultTheme from 'vitepress/theme'
import { nextTick, provide } from 'vue'

const { isDark } = useData()

const enableTransitions = () =>
  'startViewTransition' in document &&
  window.matchMedia('(prefers-reduced-motion: no-preference)').matches

provide('toggle-appearance', async ({ clientX: x, clientY: y }: MouseEvent) => {
  if (!enableTransitions()) {
    isDark.value = !isDark.value
    return
  }

  const clipPath = [
    `circle(0px at ${x}px ${y}px)`,
    `circle(${Math.hypot(
      Math.max(x, innerWidth - x),
      Math.max(y, innerHeight - y)
    )}px at ${x}px ${y}px)`
  ]

  await document.startViewTransition(async () => {
    isDark.value = !isDark.value
    await nextTick()
  }).ready

  document.documentElement.animate(
    { clipPath: isDark.value ? clipPath.reverse() : clipPath },
    {
      duration: 300,
      easing: 'ease-in',
      fill: 'forwards',
      pseudoElement: `::view-transition-${isDark.value ? 'old' : 'new'}(root)`
    }
  )
})
</script>

<template>
  <DefaultTheme.Layout />
</template>

<style>
::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
}

::view-transition-old(root),
.dark::view-transition-new(root) {
  z-index: 1;
}

::view-transition-new(root),
.dark::view-transition-old(root) {
  z-index: 9999;
}

.VPSwitchAppearance {
  width: 22px !important;
}

.VPSwitchAppearance .check {
  transform: none !important;
}
</style>
ç»“æœï¼ˆæ³¨æ„ï¼ï¼šç”»é¢é—ªçƒã€å¿«é€Ÿé—ªç°ã€å¼ºå…‰åˆºæ¿€ï¼‰:

Demo

æœ‰å…³è§†å›¾è¿‡æ¸¡åŠ¨ç”»çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… Chrome æ–‡æ¡£ã€‚

è·¯ç”±åˆ‡æ¢æ—¶
å³å°†åˆ°æ¥ã€‚

é‡å†™å†…éƒ¨ç»„ä»¶
å¯ä»¥ä½¿ç”¨ Vite çš„ aliases æ¥ç”¨è‡ªå®šä¹‰ç»„ä»¶æ›¿æ¢é»˜è®¤ä¸»é¢˜çš„ç»„ä»¶ï¼š


import { fileURLToPath, URL } from 'node:url'
import { defineConfig } from 'vitepress'

export default defineConfig({
  vite: {
    resolve: {
      alias: [
        {
          find: /^.*\/VPNavBar\.vue$/,
          replacement: fileURLToPath(
            new URL('./components/CustomNavBar.vue', import.meta.url)
          )
        }
      ]
    }
  }
})

ç«™ç‚¹é…ç½®
ç«™ç‚¹é…ç½®å¯ä»¥å®šä¹‰ç«™ç‚¹çš„å…¨å±€è®¾ç½®ã€‚åº”ç”¨é…ç½®é€‰é¡¹é€‚ç”¨äºæ¯ä¸ª VitePress ç«™ç‚¹ï¼Œæ— è®ºå®ƒä½¿ç”¨ä»€ä¹ˆä¸»é¢˜ã€‚ä¾‹å¦‚æ ¹ç›®å½•æˆ–ç«™ç‚¹çš„æ ‡é¢˜ã€‚

æ¦‚è§ˆ
é…ç½®è§£æ
é…ç½®æ–‡ä»¶æ€»æ˜¯ä» <root>/.vitepress/config.[ext] è§£æï¼Œå…¶ä¸­ <root> æ˜¯ VitePress é¡¹ç›®æ ¹ç›®å½•ï¼Œ[ext] æ˜¯æ”¯æŒçš„æ–‡ä»¶æ‰©å±•åä¹‹ä¸€ã€‚å¼€ç®±å³ç”¨åœ°æ”¯æŒ TypeScriptã€‚æ”¯æŒçš„æ‰©å±•ååŒ…æ‹¬ .jsã€.tsã€.mjs å’Œ .mtsã€‚

å»ºè®®åœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨ ES æ¨¡å—è¯­æ³•ã€‚é…ç½®æ–‡ä»¶åº”è¯¥é»˜è®¤å¯¼å‡ºä¸€ä¸ªå¯¹è±¡ï¼š


export default {
  // åº”ç”¨çº§é…ç½®é€‰é¡¹
  lang: 'en-US',
  title: 'VitePress',
  description: 'Vite & Vue powered static site generator.',
  ...
}
é…ç½®æ™ºèƒ½æç¤º
ä½¿ç”¨ defineConfig è¾…åŠ©å‡½æ•°å°†ä¸ºé…ç½®é€‰é¡¹æä¾› TypeScript æ”¯æŒçš„æ™ºèƒ½æç¤ºã€‚å‡è®¾ IDE æ”¯æŒå®ƒï¼Œé‚£ä¹ˆåœ¨ JavaScript å’Œ TypeScript ä¸­éƒ½å°†è§¦å‘æ™ºèƒ½æç¤ºã€‚


import { defineConfig } from 'vitepress'

export default defineConfig({
  // ...
})
ä¸»é¢˜ç±»å‹æç¤º
é»˜è®¤æƒ…å†µä¸‹ï¼ŒdefineConfig è¾…åŠ©å‡½æ•°æœŸæœ›é»˜è®¤ä¸»é¢˜çš„ä¸»é¢˜é…ç½®æ•°æ®ç±»å‹ä¸ºï¼š


import { defineConfig } from 'vitepress'

export default defineConfig({
  themeConfig: {
    // ç±»å‹ä¸º `DefaultTheme.Config`
  }
})
å¦‚æœä½¿ç”¨è‡ªå®šä¹‰ä¸»é¢˜å¹¶å¸Œæœ›å¯¹ä¸»é¢˜é…ç½®è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œåˆ™éœ€è¦æ”¹ç”¨ defineConfigWithThemeï¼Œå¹¶é€šè¿‡é€šç”¨å‚æ•°ä¼ é€’è‡ªå®šä¹‰ä¸»é¢˜çš„é…ç½®ç±»å‹ï¼š


import { defineConfigWithTheme } from 'vitepress'
import type { ThemeConfig } from 'your-theme'

export default defineConfigWithTheme<ThemeConfig>({
  themeConfig: {
    // ç±»å‹ä¸º `ThemeConfig`
  }
})
Viteã€Vue å’Œ Markdown é…ç½®
Vite

å¯ä»¥ä½¿ç”¨ VitePress é…ç½®ä¸­çš„ vite é€‰é¡¹é…ç½®åº•å±‚ Vite å®ä¾‹ã€‚æ— éœ€åˆ›å»ºå•ç‹¬çš„ Vite é…ç½®æ–‡ä»¶ã€‚

Vue

VitePress å·²ç»åŒ…å« Vite çš„å®˜æ–¹ Vue æ’ä»¶ ( @vitejs/plugin-vue)ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é…ç½® VitePress ä¸­çš„ vue é€‰é¡¹ã€‚

Markdown

å¯ä»¥ä½¿ç”¨ VitePress é…ç½®ä¸­çš„ markdown é€‰é¡¹é…ç½®åº•å±‚çš„ Markdown-It å®ä¾‹ã€‚

ç«™ç‚¹å…ƒæ•°æ®
title
ç±»å‹ï¼šstring
é»˜è®¤å€¼ï¼š VitePress
æ¯ä¸ªé¡µé¢å¯ä»¥é€šè¿‡ frontmatter è¦†ç›–
ç«™ç‚¹çš„æ ‡é¢˜ã€‚ä½¿ç”¨é»˜è®¤ä¸»é¢˜æ—¶ï¼Œè¿™å°†æ˜¾ç¤ºåœ¨å¯¼èˆªæ ä¸­ã€‚

å®ƒè¿˜å°†ç”¨ä½œæ‰€æœ‰å•ç‹¬é¡µé¢æ ‡é¢˜çš„é»˜è®¤åç¼€ï¼Œé™¤éå®šä¹‰äº† titleTemplateã€‚å•ä¸ªé¡µé¢çš„æœ€ç»ˆæ ‡é¢˜å°†æ˜¯å…¶ç¬¬ä¸€ä¸ª <h1> æ ‡é¢˜çš„æ–‡æœ¬å†…å®¹åŠ ä¸Šçš„å…¨å±€ titleã€‚ä¾‹å¦‚ä½¿ç”¨ä»¥ä¸‹é…ç½®å’Œé¡µé¢å†…å®¹ï¼š


export default {
  title: 'My Awesome Site'
}

# Hello
é¡µé¢æ ‡é¢˜å°±æ˜¯ Hello | My Awesome Site.

titleTemplate
ç±»å‹ï¼šstring | boolean
æ¯ä¸ªé¡µé¢å¯ä»¥é€šè¿‡ frontmatter è¦†ç›–
å…è®¸è‡ªå®šä¹‰æ¯ä¸ªé¡µé¢çš„æ ‡é¢˜åç¼€æˆ–æ•´ä¸ªæ ‡é¢˜ã€‚ä¾‹å¦‚ï¼š


export default {
  title: 'My Awesome Site',
  titleTemplate: 'Custom Suffix'
}

# Hello
é¡µé¢æ ‡é¢˜å°±æ˜¯ Hello | Custom Suffix.

è¦å®Œå…¨è‡ªå®šä¹‰æ ‡é¢˜çš„å‘ˆç°æ–¹å¼ï¼Œå¯ä»¥åœ¨ titleTemplate ä¸­ä½¿ç”¨ :title æ ‡è¯†ç¬¦ï¼š


export default {
  titleTemplate: ':title - Custom Suffix'
}
è¿™é‡Œçš„ :title å°†æ›¿æ¢ä¸ºä»é¡µé¢çš„ç¬¬ä¸€ä¸ª <h1> æ ‡é¢˜æ¨æ–­å‡ºçš„æ–‡æœ¬ã€‚ä¸Šä¸€ä¸ªç¤ºä¾‹é¡µé¢çš„æ ‡é¢˜å°†æ˜¯ Hello - Custom Suffixã€‚

è¯¥é€‰é¡¹å¯ä»¥è®¾ç½®ä¸º false ä»¥ç¦ç”¨æ ‡é¢˜åç¼€ã€‚

description
ç±»å‹ï¼šstring
é»˜è®¤å€¼ï¼š A VitePress site
æ¯ä¸ªé¡µé¢å¯ä»¥é€šè¿‡ frontmatter è¦†ç›–
ç«™ç‚¹çš„æè¿°ã€‚è¿™å°†å‘ˆç°ä¸ºé¡µé¢ HTML ä¸­çš„ <meta> æ ‡ç­¾ã€‚


export default {
  description: 'A VitePress site'
}
head
ç±»å‹ï¼šHeadConfig[]
é»˜è®¤å€¼ï¼š []
å¯ä»¥é€šè¿‡ frontmatter ä¸ºæ¯ä¸ªé¡µé¢è¿½åŠ 
è¦åœ¨é¡µé¢ HTML çš„ <head> æ ‡ç­¾ä¸­å‘ˆç°çš„å…¶ä»–å…ƒç´ ã€‚ç”¨æˆ·æ·»åŠ çš„æ ‡ç­¾åœ¨ç»“æŸ head æ ‡ç­¾ä¹‹å‰å‘ˆç°ï¼Œåœ¨ VitePress æ ‡ç­¾ä¹‹åã€‚


type HeadConfig =
  | [string, Record<string, string>]
  | [string, Record<string, string>, string]
ç¤ºä¾‹ï¼šæ·»åŠ ä¸€ä¸ªå›¾æ ‡


export default {
  head: [['link', { rel: 'icon', href: '/favicon.ico' }]]
} // å°† favicon.ico æ”¾åœ¨å…¬å…±ç›®å½•ä¸­ï¼Œå¦‚æœè®¾ç½®äº† baseï¼Œåˆ™ä½¿ç”¨ /base/favicon.ico

/* æ¸²æŸ“æˆ:
  <link rel="icon" href="/favicon.ico">
*/
ç¤ºä¾‹ï¼šæ·»åŠ è°·æ­Œå­—ä½“


export default {
  head: [
    [
      'link',
      { rel: 'preconnect', href: 'https://fonts.googleapis.com' }
    ],
    [
      'link',
      { rel: 'preconnect', href: 'https://fonts.gstatic.com', crossorigin: '' }
    ],
    [
      'link',
      { href: 'https://fonts.googleapis.com/css2?family=Roboto&display=swap', rel: 'stylesheet' }
    ]
  ]
}

/* æ¸²æŸ“æˆ:
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
*/
ç¤ºä¾‹ï¼šæ·»åŠ ä¸€ä¸ª serviceWorker


export default {
  head: [
    [
      'script',
      { id: 'register-sw' },
      `;(() => {
        if ('serviceWorker' in navigator) {
          navigator.serviceWorker.register('/sw.js')
        }
      })()`
    ]
  ]
}

/* æ¸²æŸ“æˆ:
  <script id="register-sw">
    ;(() => {
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js')
      }
    })()
  </script>
*/
ç¤ºä¾‹ï¼šä½¿ç”¨è°·æ­Œåˆ†æ


export default {
  head: [
    [
      'script',
      { async: '', src: 'https://www.googletagmanager.com/gtag/js?id=TAG_ID' }
    ],
    [
      'script',
      {},
      `window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'TAG_ID');`
    ]
  ]
}

/* æ¸²æŸ“æˆ:
  <script async src="https://www.googletagmanager.com/gtag/js?id=TAG_ID"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'TAG_ID');
  </script>
*/
lang
ç±»å‹ï¼šstring
é»˜è®¤å€¼ï¼š en-US
ç«™ç‚¹çš„ lang å±æ€§ã€‚è¿™å°†å‘ˆç°ä¸ºé¡µé¢ HTML ä¸­çš„ <html lang="en-US"> æ ‡ç­¾ã€‚


export default {
  lang: 'en-US'
}
base
ç±»å‹ï¼šstring
é»˜è®¤å€¼ï¼š /
ç«™ç‚¹å°†éƒ¨ç½²åˆ°çš„ base URLã€‚å¦‚æœè®¡åˆ’åœ¨å­è·¯å¾„ä¾‹å¦‚ GitHub é¡µé¢ä¸‹éƒ¨ç½²ç«™ç‚¹ï¼Œåˆ™éœ€è¦è®¾ç½®æ­¤é¡¹ã€‚å¦‚æœè®¡åˆ’å°†ç«™ç‚¹éƒ¨ç½²åˆ° https://foo.github.io/bar/ï¼Œé‚£ä¹ˆåº”è¯¥å°† base è®¾ç½®ä¸º '/bar/'ã€‚å®ƒåº”è¯¥å§‹ç»ˆä»¥ / å¼€å¤´å’Œç»“å°¾ã€‚

base ä¼šè‡ªåŠ¨æ·»åŠ åˆ°å…¶ä»–é€‰é¡¹ä¸­ä»¥ / å¼€å¤´çš„æ‰€æœ‰ URL å‰é¢ï¼Œå› æ­¤åªéœ€æŒ‡å®šä¸€æ¬¡ã€‚


export default {
  base: '/base/'
}
è·¯ç”±
cleanUrls
ç±»å‹ï¼šboolean
é»˜è®¤å€¼ï¼š false
å½“è®¾ç½®ä¸º true æ—¶ï¼ŒVitePress å°†ä» URL ä¸­åˆ é™¤ .html åç¼€ã€‚å¦è¯·å‚é˜…ç”Ÿæˆç®€æ´çš„ URLã€‚

éœ€è¦æœåŠ¡å™¨æ”¯æŒ

è¦å¯ç”¨æ­¤åŠŸèƒ½ï¼Œå¯èƒ½éœ€è¦åœ¨æ‰˜ç®¡å¹³å°ä¸Šè¿›è¡Œé¢å¤–é…ç½®ã€‚è¦ä½¿å…¶æ­£å¸¸å·¥ä½œï¼ŒæœåŠ¡å™¨å¿…é¡»èƒ½å¤Ÿåœ¨ä¸é‡å®šå‘çš„æƒ…å†µä¸‹è®¿é—® /foo æ—¶æä¾› /foo.htmlã€‚

rewrites
ç±»å‹ï¼šRecord<string, string>
è‡ªå®šä¹‰ç›®å½• <-> URL æ˜ å°„ã€‚è¯¦ç»†ä¿¡æ¯è¯·å‚é˜…è·¯ç”±ï¼šè·¯ç”±é‡å†™ã€‚


export default {
  rewrites: {
    'source/:page': 'destination/:page'
  }
}
æ„å»º
srcDir
ç±»å‹ï¼šstring
é»˜è®¤å€¼ï¼š .
ç›¸å¯¹äºé¡¹ç›®æ ¹ç›®å½•çš„ markdown æ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹ã€‚å¦è¯·å‚é˜…æ ¹ç›®å½•å’Œæºç›®å½•ã€‚


export default {
  srcDir: './src'
}
srcExclude
ç±»å‹ï¼šstring
é»˜è®¤å€¼ï¼š undefined
ç”¨äºåŒ¹é…åº”æ’é™¤ä½œä¸ºæºå†…å®¹è¾“å‡ºçš„ markdown æ–‡ä»¶ï¼Œè¯­æ³•è¯¦è§ glob patternã€‚


export default {
  srcExclude: ['**/README.md', '**/TODO.md']
}
outDir
ç±»å‹ï¼šstring
é»˜è®¤å€¼ï¼š ./.vitepress/dist
é¡¹ç›®çš„æ„å»ºè¾“å‡ºä½ç½®ï¼Œç›¸å¯¹äºé¡¹ç›®æ ¹ç›®å½•ã€‚


export default {
  outDir: '../public'
}
assetsDir
ç±»å‹ï¼šstring
é»˜è®¤å€¼ï¼š assets
æŒ‡å®šæ”¾ç½®ç”Ÿæˆçš„é™æ€èµ„æºçš„ç›®å½•ã€‚è¯¥è·¯å¾„åº”ä½äº outDir å†…ï¼Œå¹¶ç›¸å¯¹äºå®ƒè¿›è¡Œè§£æã€‚


export default {
  assetsDir: 'static'
}
cacheDir
ç±»å‹ï¼šstring
é»˜è®¤å€¼ï¼š ./.vitepress/cache
ç¼“å­˜æ–‡ä»¶çš„ç›®å½•ï¼Œç›¸å¯¹äºé¡¹ç›®æ ¹ç›®å½•ã€‚å¦è¯·å‚é˜…ï¼šcacheDirã€‚


export default {
  cacheDir: './.vitepress/.vite'
}
ignoreDeadLinks
ç±»å‹ï¼šboolean | 'localhostLinks' | (string | RegExp | ((link: string, source: string) => boolean))[]
é»˜è®¤å€¼ï¼š false
å½“è®¾ç½®ä¸º true æ—¶ï¼ŒVitePress ä¸ä¼šå› ä¸ºæ­»é“¾è€Œå¯¼è‡´æ„å»ºå¤±è´¥ã€‚

å½“è®¾ç½®ä¸º 'localhostLinks' ï¼Œå‡ºç°æ­»é“¾æ—¶æ„å»ºå°†å¤±è´¥ï¼Œä½†ä¸ä¼šæ£€æŸ¥ localhost é“¾æ¥ã€‚


export default {
  ignoreDeadLinks: true
}
å®ƒä¹Ÿå¯ä»¥æ˜¯ä¸€ç»„ç²¾ç¡®çš„ url å­—ç¬¦ä¸²ã€æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼æˆ–è‡ªå®šä¹‰è¿‡æ»¤å‡½æ•°ã€‚


export default {
  ignoreDeadLinks: [
    // å¿½ç•¥ç²¾ç¡®ç½‘å€ "/playground"
    '/playground',
    // å¿½ç•¥æ‰€æœ‰ localhost é“¾æ¥
    /^https?:\/\/localhost/,
    // å¿½ç•¥æ‰€æœ‰åŒ…å« "/repl/" çš„é“¾æ¥
    /\/repl\//,
    // è‡ªå®šä¹‰å‡½æ•°ï¼Œå¿½ç•¥æ‰€æœ‰åŒ…å« "ignore "çš„é“¾æ¥
    (url) => {
      return url.toLowerCase().includes('ignore')
    }
  ]
}
metaChunk experimental
ç±»å‹ï¼šboolean
é»˜è®¤å€¼ï¼šfalse
å½“è®¾ç½®ä¸º true æ—¶ï¼Œå°†é¡µé¢å…ƒæ•°æ®æå–åˆ°å•ç‹¬çš„ JavaScript å—ä¸­ï¼Œè€Œä¸æ˜¯å†…è”åœ¨åˆå§‹ HTML ä¸­ã€‚è¿™ä½¿æ¯ä¸ªé¡µé¢çš„ HTML è´Ÿè½½æ›´å°ï¼Œå¹¶ä½¿é¡µé¢å…ƒæ•°æ®å¯ç¼“å­˜ï¼Œä»è€Œå½“ç«™ç‚¹ä¸­æœ‰å¾ˆå¤šé¡µé¢æ—¶å¯ä»¥å‡å°‘æœåŠ¡å™¨å¸¦å®½ã€‚

mpa experimental
ç±»å‹ï¼šboolean
é»˜è®¤å€¼ï¼š false
è®¾ç½®ä¸º true æ—¶ï¼Œç”Ÿäº§åº”ç”¨ç¨‹åºå°†åœ¨ MPA æ¨¡å¼ä¸‹æ„å»ºã€‚MPA æ¨¡å¼é»˜è®¤æä¾› é›¶ JavaScript æ”¯æŒï¼Œä»£ä»·æ˜¯ç¦ç”¨å®¢æˆ·ç«¯å¯¼èˆªï¼Œå¹¶ä¸”éœ€è¦æ˜ç¡®é€‰æ‹©åŠ å…¥æ‰èƒ½è¿›è¡Œäº¤äº’ã€‚

ä¸»é¢˜
appearance
ç±»å‹ï¼šboolean | 'dark' | 'force-dark' | import(' @vueuse/core').UseDarkOptions
é»˜è®¤å€¼ï¼š true
æ˜¯å¦å¯ç”¨æ·±è‰²æ¨¡å¼ (é€šè¿‡å°† .dark ç±»æ·»åŠ åˆ° <html> å…ƒç´ )ã€‚

å¦‚æœè¯¥é€‰é¡¹è®¾ç½®ä¸º trueï¼Œåˆ™é»˜è®¤ä¸»é¢˜å°†ç”±ç”¨æˆ·çš„é¦–é€‰é…è‰²æ–¹æ¡ˆå†³å®šã€‚
å¦‚æœè¯¥é€‰é¡¹è®¾ç½®ä¸º darkï¼Œåˆ™é»˜è®¤æƒ…å†µä¸‹ä¸»é¢˜å°†æ˜¯æ·±è‰²çš„ï¼Œé™¤éç”¨æˆ·æ‰‹åŠ¨åˆ‡æ¢å®ƒã€‚
å¦‚æœè¯¥é€‰é¡¹è®¾ç½®ä¸º falseï¼Œç”¨æˆ·å°†æ— æ³•åˆ‡æ¢ä¸»é¢˜ã€‚
æ­¤é€‰é¡¹æ³¨å…¥ä¸€ä¸ªå†…è”è„šæœ¬ï¼Œä½¿ç”¨ vitepress-theme-appearance key ä»æœ¬åœ°å­˜å‚¨æ¢å¤ç”¨æˆ·è®¾ç½®ã€‚è¿™ç¡®ä¿åœ¨å‘ˆç°é¡µé¢ä¹‹å‰åº”ç”¨ .dark ç±»ä»¥é¿å…é—ªçƒã€‚

appearance.initialValue åªèƒ½æ˜¯ 'dark' | undefinedã€‚ ä¸æ”¯æŒ Refs æˆ– gettersã€‚

lastUpdated
ç±»å‹ï¼šboolean
é»˜è®¤å€¼ï¼š false
æ˜¯å¦ä½¿ç”¨ Git è·å–æ¯ä¸ªé¡µé¢çš„æœ€åæ›´æ–°æ—¶é—´æˆ³ã€‚æ—¶é—´æˆ³å°†åŒ…å«åœ¨æ¯ä¸ªé¡µé¢çš„é¡µé¢æ•°æ®ä¸­ï¼Œå¯é€šè¿‡ useData è®¿é—®ã€‚

ä½¿ç”¨é»˜è®¤ä¸»é¢˜æ—¶ï¼Œå¯ç”¨æ­¤é€‰é¡¹å°†æ˜¾ç¤ºæ¯ä¸ªé¡µé¢çš„æœ€åæ›´æ–°æ—¶é—´ã€‚å¯ä»¥é€šè¿‡ themeConfig.lastUpdatedText é€‰é¡¹è‡ªå®šä¹‰æ–‡æœ¬ã€‚

è‡ªå®šä¹‰
markdown
ç±»å‹ï¼šMarkdownOption
é…ç½® Markdown è§£æå™¨é€‰é¡¹ã€‚VitePress ä½¿ç”¨ Markdown-it ä½œä¸ºè§£æå™¨ï¼Œä½¿ç”¨ Shiki æ¥é«˜äº®ä¸åŒè¯­è¨€è¯­æ³•ã€‚åœ¨æ­¤é€‰é¡¹ä¸­ï¼Œå¯ä»¥ä¼ é€’å„ç§ Markdown ç›¸å…³é€‰é¡¹ä»¥æ»¡è¶³ä½ çš„éœ€è¦ã€‚


export default {
  markdown: {...}
}
æŸ¥çœ‹ç±»å‹å£°æ˜å’Œ jsdocs ä»¥è·å¾—æ‰€æœ‰å¯é…ç½®çš„é€‰é¡¹ã€‚

vite
ç±»å‹ï¼šimport('vite').UserConfig
å°†åŸå§‹ Vite é…ç½®ä¼ é€’ç»™å†…éƒ¨ Vite å¼€å‘æœåŠ¡å™¨ / bundlerã€‚


export default {
  vite: {
    // Vite é…ç½®é€‰é¡¹
  }
}
vue
ç±»å‹ï¼šimport( @vitejs/plugin-vue).Options
å°†åŸå§‹çš„ @vitejs/plugin-vue é€‰é¡¹ä¼ é€’ç»™å†…éƒ¨æ’ä»¶å®ä¾‹ã€‚


export default {
  vue: {
    // @vitejs/plugin-vue é€‰é¡¹
  }
}
æ„å»ºé’©å­
VitePress æ„å»ºé’©å­å…è®¸å‘ç«™ç‚¹æ·»åŠ æ–°åŠŸèƒ½å’Œè¡Œä¸ºï¼š

Sitemap
Search Indexing
PWA
Teleport
buildEnd
ç±»å‹ï¼š(siteConfig: SiteConfig) => Awaitable<void>
buildEnd æ˜¯ä¸€ä¸ªæ„å»º CLI é’©å­ï¼Œå®ƒå°†åœ¨æ„å»º SSG å®Œæˆåä½†åœ¨ VitePress CLI è¿›ç¨‹é€€å‡ºä¹‹å‰è¿è¡Œã€‚


export default {
  async buildEnd(siteConfig) {
    // ...
  }
}
postRender
ç±»å‹ï¼š(context: SSGContext) => Awaitable<SSGContext | void>
postRender æ˜¯ä¸€ä¸ªæ„å»ºé’©å­ï¼Œåœ¨ SSG æ¸²æŸ“å®Œæˆæ—¶è°ƒç”¨ã€‚å®ƒå°†å…è®¸åœ¨ SSG æœŸé—´å¤„ç†ä¼ é€’çš„å†…å®¹ã€‚


export default {
  async postRender(context) {
    // ...
  }
}

interface SSGContext {
  content: string
  teleports?: Record<string, string>
  [key: string]: any
}
transformHead
ç±»å‹ï¼š(context: TransformContext) => Awaitable<HeadConfig[]>
transformHead æ˜¯ä¸€ä¸ªæ„å»ºé’©å­ï¼Œç”¨äºåœ¨ç”Ÿæˆæ¯ä¸ªé¡µé¢ä¹‹å‰è½¬æ¢ headã€‚å®ƒå°†å…è®¸æ·»åŠ æ— æ³•é™æ€æ·»åŠ åˆ° VitePress é…ç½®ä¸­çš„ head entriesã€‚åªéœ€è¦è¿”å›é¢å¤–çš„ entriesï¼Œå®ƒä»¬å°†è‡ªåŠ¨ä¸ç°æœ‰ entries åˆå¹¶ã€‚

WARNING

ä¸è¦æ”¹å˜ context ä¸­çš„ä»»ä½•ä¸œè¥¿ã€‚


export default {
  async transformHead(context) {
    // ...
  }
}

interface TransformContext {
  page: string // ä¾‹å¦‚ index.md (ç›¸å¯¹äº srcDir)
  assets: string[] // æ‰€æœ‰é js/css èµ„æºå‡ä½œä¸ºå®Œå…¨è§£æçš„å…¬å…± URL
  siteConfig: SiteConfig
  siteData: SiteData
  pageData: PageData
  title: string
  description: string
  head: HeadConfig[]
  content: string
}
è¯·æ³¨æ„ï¼Œä»…åœ¨é™æ€ç”Ÿæˆç«™ç‚¹æ—¶æ‰ä¼šè°ƒç”¨æ­¤é’©å­ã€‚åœ¨å¼€å‘æœŸé—´ä¸ä¼šè°ƒç”¨å®ƒã€‚å¦‚æœéœ€è¦åœ¨å¼€å‘æœŸé—´æ·»åŠ åŠ¨æ€ head æ¡ç›®ï¼Œå¯ä»¥ä½¿ç”¨ transformPageData é’©å­æ¥æ›¿ä»£ï¼š


export default {
  transformPageData(pageData) {
    pageData.frontmatter.head ??= []
    pageData.frontmatter.head.push([
      'meta',
      {
        name: 'og:title',
        content:
          pageData.frontmatter.layout === 'home'
            ? `VitePress`
            : `${pageData.title} | VitePress`
      }
    ])
  }
}
ç¤ºä¾‹ï¼šæ·»åŠ  canonical URL <link>


export default {
  transformPageData(pageData) {
    const canonicalUrl = `https://example.com/${pageData.relativePath}`
      .replace(/index\.md$/, '')
      .replace(/\.md$/, '.html')

    pageData.frontmatter.head ??= []
    pageData.frontmatter.head.push([
      'link',
      { rel: 'canonical', href: canonicalUrl }
    ])
  }
}
transformHtml
ç±»å‹ï¼š(code: string, id: string, context: TransformContext) => Awaitable<string | void>
transformHtml æ˜¯ä¸€ä¸ªæ„å»ºé’©å­ï¼Œç”¨äºåœ¨ä¿å­˜åˆ°ç£ç›˜ä¹‹å‰è½¬æ¢æ¯ä¸ªé¡µé¢çš„å†…å®¹ã€‚

WARNING

ä¸è¦æ”¹å˜ context ä¸­çš„ä»»ä½•ä¸œè¥¿ã€‚å¦å¤–ï¼Œä¿®æ”¹ html å†…å®¹å¯èƒ½ä¼šå¯¼è‡´è¿è¡Œæ—¶å‡ºç°æ¿€æ´»é—®é¢˜ã€‚


export default {
  async transformHtml(code, id, context) {
    // ...
  }
}
transformPageData
ç±»å‹ï¼š(pageData: PageData, context: TransformPageContext) => Awaitable<Partial<PageData> | { [key: string]: any } | void>
transformPageData æ˜¯ä¸€ä¸ªé’©å­ï¼Œç”¨äºè½¬æ¢æ¯ä¸ªé¡µé¢çš„ pageDataã€‚å¯ä»¥ç›´æ¥æ”¹å˜ pageData æˆ–è¿”å›å°†åˆå¹¶åˆ° PageData ä¸­çš„æ›´æ”¹å€¼ã€‚

WARNING

ä¸è¦æ”¹å˜ context ä¸­çš„ä»»ä½•ä¸œè¥¿ã€‚è¯·æ³¨æ„ï¼Œè¿™å¯èƒ½ä¼šå½±å“å¼€å‘æœåŠ¡å™¨çš„æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯å½“åœ¨é’©å­ä¸­æœ‰ä¸€äº›ç½‘ç»œè¯·æ±‚æˆ–å¤§é‡è®¡ç®— (ä¾‹å¦‚ç”Ÿæˆå›¾åƒ) æ—¶ã€‚å¯ä»¥é€šè¿‡åˆ¤æ–­ process.env.NODE_ENV === 'production' åŒ¹é…ç¬¦åˆæ¡ä»¶çš„æƒ…å†µã€‚


export default {
  async transformPageData(pageData, { siteConfig }) {
    pageData.contributors = await getPageContributors(pageData.relativePath)
  }

  // æˆ–è¿”å›è¦åˆå¹¶çš„æ•°æ®
  async transformPageData(pageData, { siteConfig }) {
    return {
      contributors: await getPageContributors(pageData.relativePath)
    }
  }
}

interface TransformPageContext {
  siteConfig: SiteConfig
}

ä¸»é¡µ
VitePress é»˜è®¤ä¸»é¢˜æä¾›äº†ä¸€ä¸ªé¦–é¡µå¸ƒå±€ï¼Œä¹Ÿå¯ä»¥åœ¨æ­¤ç«™ç‚¹é¦–é¡µçœ‹åˆ°ã€‚å¯ä»¥é€šè¿‡ frontmatter æŒ‡å®š layout: home åœ¨ä»»ä½•é¡µé¢ä¸Šä½¿ç”¨å®ƒ


---
layout: home
---
ä½†æ˜¯ï¼Œä»…åšè¿™ä¸ªé…ç½®ä¸ä¼šæœ‰å¤ªå¤§ä½œç”¨ã€‚å¯ä»¥é€šè¿‡è®¾ç½®å…¶ä»–é€‰é¡¹ (ä¾‹å¦‚ hero å’Œ features) å‘ä¸»é¡µæ·»åŠ å‡ ä¸ªä¸åŒçš„é¢„è®¾ã€‚

Hero éƒ¨åˆ†
Hero éƒ¨åˆ†ä½äºä¸»é¡µé¡¶éƒ¨ã€‚ä»¥ä¸‹æ˜¯é…ç½® Hero çš„æ–¹æ³•ã€‚


---
layout: home

hero:
  name: VitePress
  text: Vite & Vue powered static site generator.
  tagline: Lorem ipsum...
  image:
    src: /logo.png
    alt: VitePress
  actions:
    - theme: brand
      text: Get Started
      link: /guide/what-is-vitepress
    - theme: alt
      text: View on GitHub
      link: https://github.com/vuejs/vitepress
---

interface Hero {
  // `text` ä¸Šæ–¹çš„å­—ç¬¦ï¼Œå¸¦æœ‰å“ç‰Œé¢œè‰²
  // é¢„è®¡ç®€çŸ­ï¼Œä¾‹å¦‚äº§å“åç§°
  name?: string

  // hero éƒ¨åˆ†çš„ä¸»è¦æ–‡å­—ï¼Œ
  // è¢«å®šä¹‰ä¸º `h1` æ ‡ç­¾
  text: string

  // `text` ä¸‹æ–¹çš„æ ‡è¯­
  tagline?: string

  // text å’Œ tagline åŒºåŸŸæ—çš„å›¾ç‰‡
  image?: ThemeableImage

  // ä¸»é¡µ hero éƒ¨åˆ†çš„æ“ä½œæŒ‰é’®
  actions?: HeroAction[]
}

type ThemeableImage =
  | string
  | { src: string; alt?: string }
  | { light: string; dark: string; alt?: string }

interface HeroAction {
  // æŒ‰é’®çš„é¢œè‰²ä¸»é¢˜ï¼Œé»˜è®¤ä¸º `brand`
  theme?: 'brand' | 'alt'

  // æŒ‰é’®çš„æ ‡ç­¾
  text: string

  // æŒ‰é’®çš„ç›®æ ‡é“¾æ¥
  link: string

  // é“¾æ¥çš„ target å±æ€§
  target?: string

  // é“¾æ¥çš„ rel å±æ€§
  rel?: string
}
è‡ªå®šä¹‰ name çš„é¢œè‰²
VitePress é€šè¿‡ (--vp-c-brand-1) è®¾ç½® name çš„é¢œè‰²ã€‚ä½†æ˜¯ï¼Œå¯ä»¥é€šè¿‡è¦†ç›– --vp-home-hero-name-color å˜é‡æ¥è‡ªå®šä¹‰æ­¤é¢œè‰²ã€‚


:root {
  --vp-home-hero-name-color: blue;
}
ä¹Ÿå¯ä»¥é€šè¿‡ç»„åˆ --vp-home-hero-name-background æ¥è¿›ä¸€æ­¥è‡ªå®šä¹‰ name ä¸ºæ¸å˜è‰²ã€‚


:root {
  --vp-home-hero-name-color: transparent;
  --vp-home-hero-name-background: -webkit-linear-gradient(120deg, #bd34fe, #41d1ff);
}
Features éƒ¨åˆ†
åœ¨ Features éƒ¨åˆ†ï¼Œå¯ä»¥åœ¨ Hero éƒ¨åˆ†ä¹‹ååˆ—å‡ºä»»æ„æ•°é‡çš„ Featureã€‚å¯ä»¥åœ¨ frontmatter ä¸­é…ç½® featuresã€‚

å¯ä»¥ä¸ºæ¯ä¸ª feature æä¾›ä¸€ä¸ªå›¾æ ‡ï¼Œå¯ä»¥æ˜¯è¡¨æƒ…ç¬¦å·æˆ–ä»»ä½•ç±»å‹çš„å›¾åƒã€‚å½“é…ç½®çš„å›¾æ ‡æ˜¯å›¾ç‰‡ï¼ˆsvg, png, jpeg...ï¼‰æ—¶ï¼Œå¿…é¡»æä¾›åˆé€‚çš„å®½åº¦å’Œé«˜åº¦çš„å›¾æ ‡ï¼›è¿˜å¯ä»¥åœ¨éœ€è¦æ—¶é…ç½®å…¶æè¿°ã€å›ºæœ‰å¤§å°ä»¥åŠæ·±è‰²å’Œæµ…è‰²ä¸»é¢˜ä¸‹çš„ä¸åŒè¡¨ç°ã€‚


---
layout: home

features:
  - icon: ğŸ› ï¸
    title: Simple and minimal, always
    details: Lorem ipsum...
  - icon:
      src: /cool-feature-icon.svg
    title: Another cool feature
    details: Lorem ipsum...
  - icon:
      dark: /dark-feature-icon.svg
      light: /light-feature-icon.svg
    title: Another cool feature
    details: Lorem ipsum...
---

interface Feature {
  // åœ¨æ¯ä¸ª feature æ¡†ä¸­æ˜¾ç¤ºå›¾æ ‡
  icon?: FeatureIcon

  // feature çš„æ ‡é¢˜
  title: string

  // feature çš„è¯¦æƒ…
  details: string

  // ç‚¹å‡» feature ç»„ä»¶æ—¶çš„é“¾æ¥ï¼Œå¯ä»¥æ˜¯å†…éƒ¨é“¾æ¥ï¼Œä¹Ÿå¯ä»¥æ˜¯å¤–éƒ¨é“¾æ¥ã€‚
  //
  //
  // ä¾‹å¦‚ `guide/reference/default-theme-home-page` æˆ– `https://example.com`
  link?: string

  // feature ç»„ä»¶å†…æ˜¾ç¤ºçš„é“¾æ¥æ–‡æœ¬ï¼Œæœ€å¥½ä¸ `link` é€‰é¡¹ä¸€èµ·ä½¿ç”¨
  //
  //
  // ä¾‹å¦‚ `Learn more`, `Visit page` ç­‰
  linkText?: string

  // `link` é€‰é¡¹çš„é“¾æ¥ rel å±æ€§
  //
  // ä¾‹å¦‚ `external`
  rel?: string

  // `link` é€‰é¡¹çš„é“¾æ¥ target å±æ€§
  target?: string
}

type FeatureIcon =
  | string
  | { src: string; alt?: string; width?: string; height: string }
  | {
      light: string
      dark: string
      alt?: string
      width?: string
      height?: string
    }
Markdown å†…å®¹
å¯ä»¥åœ¨ frontmatter çš„åˆ†éš”ç¬¦ --- ä¸‹æ–¹ä¸ºç«™ç‚¹ä¸»é¡µæ·»åŠ é¢å¤–çš„ Markdown å†…å®¹ã€‚


---
layout: home

hero:
  name: VitePress
  text: Vite & Vue powered static site generator.
---

## Getting Started

You can get started using VitePress right away using `npx`!

```sh
npm init
npx vitepress init
```
INFO

VitePress å¹¶ä¸æ€»æ˜¯ä¸º layout: home é¡µé¢é‡Œé¢å¤–çš„å†…å®¹è‡ªåŠ¨æ·»åŠ æ ·å¼ã€‚è¦å›åˆ°ä»¥å‰çš„è¡Œä¸ºï¼Œå¯ä»¥åœ¨ frontmatter ä¸­æ·»åŠ  markdownStyles: falseã€‚